"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3727],{83727:(e,t,a)=>{a.r(t),a.d(t,{default:()=>g});var s=a(70821);const o=["onClick"],n={class:"dropdown-head"},r={class:"meta"},l={key:0},i=["onClick"],u={class:"icon"},c={class:"meta"},d=(0,s.createElementVNode)("hr",{class:"dropdown-divider"},null,-1),p={class:"dropdown-item is-button"};var m=a(76720);const h={data:function(){return{user_data:null}},created(){let e=this;window.Bus.on("dropdown-shown",(function(){e.fetchUserData()}))},methods:{logout(){this.$router.push({name:"login"}).then((()=>{this.$store.dispatch(m.Nv),this.$bus.emit("logout")}))},fetchUserData(){this.userEndPoint&&this.request(this.$endPoint(this.userEndPoint),{},(({data:e})=>{e.data.auth&&this.$store.commit(m.uN,e)}),(e=>{}),(()=>{this.loading=!1}))},action(e,t){document.getElementById("profile_drop_down").classList.remove("is-active"),this.$router.push(e.to)}},computed:{...(0,a(33907).rn)({user:e=>e.auth.user}),profileQuickMenu(){return this.appConfig("profile_quick_menu",[])},userEndPoint(){return this.appConfig("user.endPoint",null)},userData$(){return this.user},statusClass$(){return _.get(this?.userData$,"status.class",null)},statusStyle$(){return this.statusClass$?`status-user ${this.statusClass$}`:""}}};const g=(0,a(83744).Z)(h,[["render",function(e,t,a,m,h,g){const k=(0,s.resolveComponent)("VAvatar"),v=(0,s.resolveComponent)("VButton"),w=(0,s.resolveComponent)("VDropdown");return(0,s.openBlock)(),(0,s.createBlock)(w,{id:"profile_drop_down",right:"",spaced:"",class:"user-dropdown is-spaced profile-dropdown"},{button:(0,s.withCtx)((({toggle:e})=>[(0,s.createElementVNode)("a",{class:"is-trigger dropdown-trigger","aria-haspopup":"true",onClick:e},[(0,s.createVNode)(k,{picture:"/panel/images/avatars/svg/vuero-1.svg"})],8,o)])),content:(0,s.withCtx)((()=>[(0,s.createElementVNode)("div",n,[(0,s.createVNode)(k,{size:"medium",picture:"/panel/images/avatars/svg/vuero-1.svg"}),(0,s.createElementVNode)("div",r,[(0,s.createElementVNode)("span",null,[(0,s.createTextVNode)((0,s.toDisplayString)(g.userData$?.name)+" ",1),g.userData$?.hasOwnProperty("status")?((0,s.openBlock)(),(0,s.createElementBlock)("strong",{key:0,class:(0,s.normalizeClass)(` ${g.statusStyle$}`)},(0,s.toDisplayString)(g.userData$?.status?.name),3)):(0,s.createCommentVNode)("",!0)]),(0,s.createElementVNode)("span",null,(0,s.toDisplayString)(g.userData$?.email),1),g.userData$?.hasOwnProperty("wallet_balance")?((0,s.openBlock)(),(0,s.createElementBlock)("span",l,(0,s.toDisplayString)(e.trans("wallet"))+" : "+(0,s.toDisplayString)(g.userData$?.wallet_balance),1)):(0,s.createCommentVNode)("",!0)])]),((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(g.profileQuickMenu,((t,a)=>((0,s.openBlock)(),(0,s.createElementBlock)("div",null,[(0,s.createElementVNode)("div",{style:{cursor:"pointer"},onClick:e=>g.action(t,a),role:"menuitem",class:"dropdown-item is-media"},[(0,s.createElementVNode)("div",u,[(0,s.createElementVNode)("i",{"aria-hidden":"true",class:(0,s.normalizeClass)(`${t.icon}`)},null,2)]),(0,s.createElementVNode)("div",c,[(0,s.createElementVNode)("span",null,(0,s.toDisplayString)(e.trans(t?.label)),1),(0,s.createElementVNode)("span",null,(0,s.toDisplayString)(e.trans(t?.description)),1)])],8,i),d])))),256)),(0,s.createElementVNode)("div",p,[(0,s.createVNode)(v,{class:"logout-button",icon:"feather:log-out",color:"primary",role:"menuitem",raised:"",onClick:g.logout,fullwidth:""},{default:(0,s.withCtx)((()=>[(0,s.createTextVNode)((0,s.toDisplayString)(e.trans("logout")),1)])),_:1},8,["onClick"])])])),_:1})}]])}}]);